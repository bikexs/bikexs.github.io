---
title: 链表数据结构专题整理
author: bikexs
date: 2023-11-25 7:00:00 +0800
categories: [cocos, 打包, 优化]
tags: [链表]
math: true
mermaid: true
---

### 前言：

微信小游戏主包限制大小不超过4M，引擎支持可能需要2.5M，也就是入口场景不能超过1.5兆。

### 1、cocos无用模块优化。（该部分能保持cocos引擎模块2兆左右）

针对项目未使用到的模块在项目设置中去掉。【Project】=>【Project Setting】。

比如：

- TiledMap，不使用tiledmap构建地图直接去掉。
- Dragon Bones，龙骨支持，一般使用spine骨骼动画就不会再用这个了，也去掉。
- 3D相关的，本游戏需要3d场景作为背景渲染，保留，地形相关的比如Terrain也没必要，去掉。

### 2、天空盒去掉

天空盒需要的图片约占0.9M，微信小游戏中建议换张图片加上个粒子系统模拟个天空背景。

设置位置：点击场景->将天空盒的启用去掉。

没有使用fog也去掉；

Shadow没用到也直接去掉，用到可以将type改为Shadow Map,最大接收直接设置为0。

![image-20231125211634475](https://z1.ax1x.com/2023/11/25/pi0MI8H.png)



### 3、分包

- 场景选择。开发中可能会有些测试场景或引入的第三方资源的demo场景，记得不要选上。

- 入口场景分包，以及主包压缩类型设置为小游戏分包

  ![小游戏分包](https://z1.ax1x.com/2023/11/25/pi0MXa8.png)

- 引擎分包也勾上。【engine wasm subpackage】



### 4、结语

一般来说上面几个方式应该能够正常打包了，如果主包还是太大，可以使用微信开发者工具的文件分析器查看下具体啥原因，一般来说入口场景资源不会太大，如果入口场景资源太大的话需要优化下场景本身。

